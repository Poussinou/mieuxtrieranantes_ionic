<ion-view view-title="{{'lieux'|translate}}">
  
  <ion-content>
  

<div class="card">

  <div class="item item-divider item-calm">{{'recherche'|translate}}</div>

  <div class="item item-input">
  <span class="input-label">{{'objet'|translate}} / {{'nom'|translate}}</span>
    <label class="item-input-wrapper">
      <input ng-model="formParam.searchkey"  type="text" placeholder="{{'lieux_placeholder'|translate}}">
    </label>
    <a class="button positive button-icon icon ion-search" ng-click="onSearchSubmit()"></a>
  </div>

 <!--
    <select ng-model="formParam.type" ng-click="onChangeType()">
    <option ng-selected="{{item.id === '1'}}"
            ng-repeat="item in typeCollecte"
            value="{{item.id}}"
           >
      {{item.nom}}
    </option>
</select>
       -->
    {{'types_de_structure'|translate}}
    <ui-select ng-model="formParam.type" ng-click="onChangeType()">
      <ui-select-match placeholder="{{'types_de_structure'|translate}}">{{formParam.type.nom}}</ui-select-match>
      <ui-select-choices repeat="item in typeCollecte">
        <div ng-bind="item.nom"></div>
      </ui-select-choices>
    </ui-select>

</div>

<div class="card">

  <div class="item item-divider item-calm">{{'results'|translate}} <span ng-show="results.length > 0" ng-bind="'(' + (results.length) + ')'"></span></div>

  <div class="item" ng-show="results.length == 0">{{'no_result'|translate}}</div>

  <a class="item" ng-repeat="structure in results | limitTo:maxDisplayResults" ng-href="#/tab/lieu/detail/{{::structure.code}}">
        {{::structure.nom}} <br>
        <span style="color:#666">{{::structure.type}}</span>
        <mtn-plage-horaire class="horaire" horaire="{{::structure.plagesHoraires}}"></mtn-plage-horaire>   
  </a>

  <div class="item item-assertive" ng-show="results.length > maxDisplayResults">
     {{'les_xx_premiers_results_affiches'|translate:translatevalues}}<br>{{'affiner_recherche'|translate}}
  </div>

</div>


  
  </ion-content>
    
</ion-view>

<!-- TODO -->
<!-- 

- Bouton RESET pour le champ de recherche mot-clÃ© 
- Page dÃ©tail Lieu + Horaires en clair


-->